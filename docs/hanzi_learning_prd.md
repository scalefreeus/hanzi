# Hanzi Learning PRD

## Introduction

웹 브라우저를 통해 누구나 쉽게 한자를 공부할 수 있는 사이트입니다.
Anki 스타일의 간격 반복 학습법(Spaced Repetition)을 사용하여 효과적으로 한자를 학습할 수 있습니다.
사용자는 HSK 1-6 레벨 중 원하는 레벨을 선택하여 해당 레벨의 한자를 학습할 수 있습니다.
각 한자별로 한자, 한국어 의미, 영어 의미, 병음(발음)이 표시되며, 음성 합성을 통한 발음 재생 기능을 제공합니다.

## User Stories

- **US1:** *사용자가 학습할 HSK 레벨(1-6)을 선택하면 해당 레벨에 맞는 한자 학습 세션을 시작할 수 있습니다.*

- **US2:** *사용자가 플래시카드 형태로 한자를 학습하고, 4단계 난이도(다시/어려움/보통/쉬움)로 자신의 이해도를 평가할 수 있습니다.*

- **US3:** *사용자가 발음 버튼을 클릭하면 해당 한자의 중국어 발음을 들을 수 있습니다.*

- **US4:** *사용자의 학습 진행 상황이 자동으로 저장되어 다음 방문 시에도 이어서 학습할 수 있습니다.*

- **US5:** *사용자가 복습할 카드, 새로운 카드, 또는 전체 카드 중에서 선택하여 학습할 수 있습니다.*

## Acceptance Criteria

**For US1:**
- 사용자가 HSK 1-6 레벨 중 하나를 선택할 수 있습니다.
- 선택한 레벨에 맞는 한자 데이터가 로드됩니다.
- 학습 통계(전체 카드 수, 새 카드 수, 복습 카드 수 등)가 표시됩니다.

**For US2:**
- 플래시카드는 앞면에 한자, 뒷면에 의미와 발음이 표시됩니다.
- 카드 클릭 또는 "답 보기" 버튼으로 뒷면을 볼 수 있습니다.
- 4단계 난이도 버튼(다시/어려움/보통/쉬움)으로 학습 결과를 입력할 수 있습니다.
- 답변에 따라 다음 복습 일정이 자동으로 계산됩니다.

**For US3:**
- 스피커 아이콘 클릭 시 Web Speech API를 통해 중국어 발음이 재생됩니다.
- 자동 발음 재생 옵션을 설정할 수 있습니다.

**For US4:**
- 학습 진행 상황이 브라우저 로컬 스토리지에 저장됩니다.
- 각 한자의 학습 횟수, 난이도 계수, 다음 복습 날짜 등이 저장됩니다.
- 페이지 새로고침 또는 재방문 시에도 학습 상태가 유지됩니다.

**For US5:**
- "복습하기": 오늘 복습해야 할 카드들만 학습
- "새 카드": 아직 학습하지 않은 새로운 카드들만 학습
- "전체 학습": 복습 카드와 새 카드를 모두 포함하여 학습

## Technical Implementation Status

### ✅ 완료된 기능

#### 1. 프로젝트 구조
- Next.js 14 기반 프로젝트 설정
- TypeScript 사용
- Tailwind CSS 스타일링
- 반응형 디자인 (모바일/데스크톱 지원)

#### 2. 데이터 구조
- HSK 1-6 레벨별 한자 데이터 구성
- HSK4는 39개 파트로 세분화 (약 1,200개 한자)
- 각 한자별 정보: 한자, 한국어 의미, 영어 의미, 병음, 레벨

#### 3. 핵심 컴포넌트
- **Flashcard 컴포넌트**: 3D 플립 애니메이션이 있는 플래시카드
- **StudyStats 컴포넌트**: 학습 통계 표시
- **메인 페이지**: 레벨 선택, 학습 모드 선택, 설정 관리

#### 4. Anki 알고리즘 구현
- SuperMemo 2 기반 간격 반복 알고리즘
- 4단계 난이도 평가 (다시/어려움/보통/쉬움)
- 자동 복습 일정 계산
- 난이도 계수(Ease Factor) 동적 조정

#### 5. 로컬 스토리지 시스템
- 학습 진행 상황 자동 저장
- 선택한 레벨 기억
- 사용자 설정 저장 (병음 표시, 자동 발음 등)
- 학습 세션 기록

#### 6. 음성 기능
- Web Speech API를 통한 중국어 발음 재생
- 자동 발음 재생 옵션
- 수동 발음 재생 버튼

#### 7. 학습 모드
- **복습 모드**: 오늘 복습해야 할 카드들
- **새 카드 모드**: 아직 학습하지 않은 카드들
- **전체 학습 모드**: 복습 + 새 카드 통합

#### 8. 사용자 설정
- 병음 표시/숨김 토글
- 자동 발음 재생 토글
- 일일 새 카드 수 제한 (기본 20개)
- 일일 복습 카드 수 제한 (기본 100개)

#### 9. 학습 통계
- 전체 카드 수
- 새 카드 수
- 복습 대기 카드 수
- 학습 완료 카드 수
- 숙련 카드 수 (3회 이상 성공)
- 진행률 백분율

#### 10. UI/UX 기능
- 다크 모드 지원
- 진행률 표시 바
- 세션 통계 (정답/오답 수)
- 반응형 디자인
- 부드러운 애니메이션 효과

### 📁 파일 구조
```
frontend/
├── src/app/
│   ├── components/
│   │   ├── Flashcard.tsx      # 플래시카드 컴포넌트
│   │   └── StudyStats.tsx     # 학습 통계 컴포넌트
│   ├── data/
│   │   ├── hsk1.ts           # HSK1 한자 데이터 (150개)
│   │   ├── hsk2.ts           # HSK2 한자 데이터
│   │   ├── hsk3.ts           # HSK3 한자 데이터
│   │   ├── hsk4/             # HSK4 한자 데이터 (39개 파트)
│   │   ├── hsk5.ts           # HSK5 한자 데이터
│   │   └── hsk6.ts           # HSK6 한자 데이터
│   ├── types/
│   │   └── hanzi.ts          # TypeScript 타입 정의
│   ├── utils/
│   │   ├── ankiAlgorithm.ts  # Anki 간격 반복 알고리즘
│   │   └── storage.ts        # 로컬 스토리지 관리
│   ├── page.tsx              # 메인 페이지
│   └── globals.css           # 전역 스타일
```

## Technical Notes

### 기술 스택
- **Frontend**: Next.js 14, TypeScript, Tailwind CSS
- **상태 관리**: React Hooks (useState, useEffect)
- **데이터 저장**: 브라우저 로컬 스토리지
- **음성 기능**: Web Speech API
- **배포**: GitHub Pages (정적 사이트 생성)

### 핵심 알고리즘
- **Anki SuperMemo 2**: 간격 반복 학습을 위한 과학적 알고리즘
- **난이도 계수**: 개별 카드의 학습 난이도 추적
- **복습 간격**: 1일 → 6일 → 동적 계산 (난이도에 따라)

### 성능 최적화
- 대용량 HSK4 데이터를 39개 파트로 분할하여 로딩 최적화
- 로컬 스토리지를 통한 오프라인 학습 지원
- 반응형 디자인으로 모든 디바이스 지원

### 향후 개선 계획
- [ ] 학습 통계 차트 추가
- [ ] 한자 검색 기능
- [ ] 학습 목표 설정 기능
- [ ] 학습 스트릭(연속 학습일) 추가
- [ ] 한자 필기 연습 기능
- [ ] 단어 조합 학습 모드
